@{
    ViewBag.Title = "Profile";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-lg-12">
        <div class="view-header">
            <div class="header-icon">
                <i class="pe page-header-icon pe-7s-id"></i>
            </div>
            <div class="header-title">
                <h3>My Financial Profile</h3>
                <small>
                    Get your money right playboi
                </small>
            </div>
        </div>
        <hr />
    </div>
</div>

<div class="col-sm-8 col-sm-offset-2 animated slideInUp">
    <div class="tabs-container">
        <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#tab-1" aria-expanded="true"> <i class="fa fa-usd"></i></a></li>
            <li class=""><a data-toggle="tab" href="#tab-2" aria-expanded="false"><i class="fa fa-money"></i></a></li>
            <li class=""><a data-toggle="tab" href="#tab-3" aria-expanded="false"><i class="fa fa-line-chart"></i></a></li>
            <li class=""><a data-toggle="tab" href="#tab-4" aria-expanded="true"> <i class="fa fa-shield"></i></a></li>
            <li class=""><a data-toggle="tab" href="#tab-5" aria-expanded="false"><i class="fa fa-credit-card-alt"></i></a></li>
            <li class=""><a data-toggle="tab" href="#tab-6" aria-expanded="false"><i class="fa fa-home"></i></a></li>
            <li class=""><a data-toggle="tab" href="#tab-7" aria-expanded="false"><i class="fa fa-bolt"></i></a></li>
        </ul>
        <div class="tab-content">
            <div id="tab-1" class="tab-pane active">
                <div class="panel-body">
                    <b class="media-heading h3 c-white text-capitalize"><span class="h3"><i class="fa fa-usd text-warning"></i></span> Income</b>
                    <p class="col-sm-offset-1">
                        Income before the outcome am I right?
                    </p>
                    <row>
                        <ul class="media-list bs-example col-sm-12">
                            <li class="media">
                                <div class="media-body">
                                    <br />
                                    <text class="text-accent">First thing's first - how much are you bringing in each month?</text>
                                    <br />
                                    <hr />
                                    <div class="col-sm-12">
                                        <div class="col-sm-3">Are You Employed?</div>
                                        <input type="checkbox" class="col-sm-offset-3 js-switch" />
                                    </div>
                                    <div id="employed" hidden="hidden">
                                        <div class="col-sm-12">
                                            <p class="col-sm-8 col-sm-offset-1">Is Your Position Paid Hourly or Salary?</p>
                                        </div>
                                        <div class="col-sm-offset-3">
                                            <div class="radio radio-success radio-inline">
                                                <input type="radio" id="hourly_radio" value="option1" name="selected">
                                                <label for="inlineRadio1"> Hourly </label>
                                            </div>
                                            <div class="radio radio-success radio-inline">
                                                <input type="radio" id="salary_radio" value="option2" name="selected">
                                                <label for="inlineRadio2"> Salary </label>
                                            </div>
                                        </div>
                                        <div id="salary" hidden="hidden">
                                            <div class="col-sm-12">
                                                <p class="col-sm-8 col-sm-offset-2">What's Your Yearly Salary? <small class="text-accent"> (Don't worry about taxes)</small></p>
                                            </div>
                                            <div class="col-sm-4 col-sm-offset-3">
                                                <input class="form-control" id="salary_pay" placeholder="$" />
                                            </div>
                                            <div class="col-sm-12"> <text class="text-accent pull-right" id="monthly_salary">$0.00 / month</text></div>
                                        </div>
                                        <div id="hourly" hidden="hidden">
                                            <div class="col-sm-12">
                                                <p class="col-sm-8 col-sm-offset-2">How Much Do You Make Per Hour? <small class="text-accent"></small></p>
                                            </div>
                                            <div class="col-sm-4 col-sm-offset-3">
                                                <input class="form-control" id="hourly_pay" placeholder="$" />
                                            </div>
                                            <div class="col-sm-12">
                                                <p class="col-sm-12 col-sm-offset-2">How Many Hours Do You Usually Work Each Week? <small class="text-accent"> (On average)</small></p>
                                            </div>
                                            <div class="col-sm-4 col-sm-offset-3">
                                                <input class="form-control" id="hourly_time" placeholder="" />
                                            </div>
                                            <div class="col-sm-12"> <text class="text-accent pull-right" id="monthly_hourly"> $0.00 / month</text></div>
                                        </div>
                                        @*<div id="second_job" hidden="hidden">
                                                <div class="col-sm-12">
                                                    <div class="col-sm-4 col-sm-offset-1">Do You have another job?</div>
                                                    <input type="checkbox" class="col-sm-offset-3 js-switch3" />
                                                </div>
                                            </div>*@
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="col-sm-6">Do You Have Any Other Income Sources?</div>
                                        <input type="checkbox" class="col-sm-offset-2 js-switch2" />
                                    </div>
                                    <div id="other_inc" hidden="hidden">
                                        <div>
                                            <div>
                                                <label class="col-sm-2 col-sm-offset-1 control-label">Amount</label>
                                                <div class="col-sm-5"><input class="form-control" id="other_amount"></div>
                                            </div>
                                            <div class="col-sm-10">
                                                <label class="col-sm-3 col-sm-offset-1 control-label">Frequency</label>
                                                <div class="radio radio-success radio-inline">
                                                    <input type="radio" id="other_weekly" value="option1" name="other_freq">
                                                    <label for="inlineCheckbox1"> Weekly </label>
                                                </div>
                                                <div class="radio radio-success radio-inline">
                                                    <input type="radio" id="other_m" value="option2" name="other_freq">
                                                    <label for="inlineCheckbox2"> Monthly </label>
                                                </div>
                                                <div class="radio radio-success radio-inline">
                                                    <input type="radio" id="other_yearly" value="option3" name="other_freq">
                                                    <label for="inlineCheckbox2"> Yearly </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-12"> <text class="text-accent pull-right" id="other_monthly"> $0.00 / month</text></div>
                                    </div>
                                    <div class="col-sm-12">
                                        <hr />
                                        <text class="c-white pull-right" id="total_monthly">Total Monthly Income: $0.00 </text>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </row>
                    <row>
                        <div class="col-sm-12">
                            <br />
                            <a class="btn btn-accent btnNext pull-right"><i class="fa fa-chevron-right"></i></a>
                        </div>
                    </row>
                </div>
            </div>
            <div id="tab-2" class="tab-pane">
                <div class="panel-body">
                    <b class="media-heading h3 c-white text-capitalize"><span class="h3"><i class="fa fa-money text-warning"></i></span> Cash</b>
                    <p class="col-sm-offset-1">Rules Everything Around Me</p>
                    <row>
                        <div class="bs-example">
                            <br />
                            <text class="text-accent">We snagged these balances from your cash accounts. Take a look and make sure it's all cool</text>
                            <br />
                            <hr />
                            @foreach (var accounttype in Model.AccountTypeList)
                            {
                                if (accounttype.Accounttype.Equals("depository"))
                                {
                            <ul class="media-list">
                                <li class="media">
                                    <div class="media-body">
                                        @foreach (var account in Model.Account_list)
                                                {
                                                    if (account.Account_Type.Equals(accounttype.Accounttype))
                                                    {
                                                <ul class="media-list">
                                                    <li class="media">
                                                        <div class="media-heading">
                                                            <row>
                                                                @if (@account.AccountName.Length > 20)
                                                                        {<p class="c-white"> @account.AccountName.Substring(0, 20)...<text class="pull-right text-success">@String.Format("{0:C}", account.Balance)</text></p> }
                                                                        else
                                                                        {<p class="c-white"> @account.AccountName<text class="pull-right text-success">@String.Format("{0:C}", account.Balance)</text></p> }
                                                            </row>
                                                        </div>
                                                    </li>
                                                </ul>
                                                    }
                                                }
                                    </div>
                                </li>
                            </ul>
                            <hr />
                            <div class="col-sm-12">
                                <text class="c-white pull-right" id="total_monthly">Total Cash: @accounttype.Accounttype_sum</text>
                            </div>
                            <br />
                                }
                            }
                        </div>
                    </row>
                    <row>
                        <div class="col-sm-12">
                            <br />
                            <a class="btn btn-accent btnPrevious pull-left"><i class="fa fa-chevron-left"></i></a>
                            <a class="btn btn-accent btnNext pull-right"><i class="fa fa-chevron-right"></i></a>
                        </div>
                    </row>
                </div>
            </div>
            <div id="tab-3" class="tab-pane">
                <div class="panel-body">
                    <b class="media-heading h3 c-white text-capitalize"><span class="h3"><i class="fa fa-line-chart text-warning"></i></span> Investments</b>
                    <p class="col-sm-offset-1">Making it rain BOI</p>
                    <row>
                        <div class="bs-example">
                            <br />
                            <text class="text-accent">Your investment and retirement account balances</text>
                            <br />
                            <hr />
                            @foreach (var accounttype in Model.AccountTypeList)
                            {
                                if (accounttype.Accounttype.Equals("brokerage") || accounttype.Accounttype.Equals("other"))
                                {
                            <ul class="media-list">
                                <li class="media">
                                    <div class="media-body">
                                        @foreach (var account in Model.Account_list)
                                                {
                                                    if (account.Account_Type.Equals(accounttype.Accounttype.ToString()))
                                                    {
                                                <ul class="media-list">
                                                    <li class="media">
                                                        <div class="media-heading">
                                                            <row>
                                                                @if (@account.AccountName.Length > 20)
                                                                        {<p class="c-white"> @account.AccountName.ToString().Substring(0, 20)...<text class="pull-right text-success">@String.Format("{0:C}", account.Balance)</text></p> }
                                                                        else
                                                                        {<p class="c-white"> @account.AccountName.ToString()<text class="pull-right text-success">@String.Format("{0:C}", account.Balance)</text></p> }
                                                            </row>
                                                        </div>
                                                    </li>
                                                </ul>
                                                    }
                                                }
                                    </div>
                                </li>
                            </ul>
                            <hr />
                            <div class="col-sm-12">
                                <text class="c-white pull-right" id="total_monthly">Total Investments: @accounttype.Accounttype_sum</text>
                            </div>
                            <br />
                                }
                            }
                        </div>
                    </row>
                    <row>
                        <div class="col-sm-12">
                            <br />
                            <a class="btn btn-accent btnPrevious pull-left"><i class="fa fa-chevron-left"></i></a>
                            <a class="btn btn-accent btnNext pull-right"><i class="fa fa-chevron-right"></i></a>
                        </div>
                    </row>
                </div>
            </div>
            <div id="tab-4" class="tab-pane">
                <div class="panel-body">
                    <b class="media-heading h3 c-white text-capitalize"><span class="h3"><i class="fa fa-shield text-warning"></i></span> Insurance</b>
                    <p class="col-sm-offset-1">
                        PROTECT YA NECK
                    </p>
                    <row>
                        <div class="bs-example">
                            <br />
                            <text class="text-accent">Home, auto, life or whatver - protect yourself before you wreck yourself</text>
                            <br />
                            <hr />
                            <div class="col-sm-12">
                                <text class="c-white pull-right" id="total_monthly">Monthly Insurance Expense: $0.00 </text>
                            </div>
                            <br />
                        </div>
                        <row>
                            <div class="col-sm-12">
                                <br />
                                <a class="btn btn-accent btnPrevious pull-left"><i class="fa fa-chevron-left"></i></a>
                                <a class="btn btn-accent btnNext pull-right"><i class="fa fa-chevron-right"></i></a>
                            </div>
                        </row>
                    </row>
                </div>
            </div>
            <div id="tab-5" class="tab-pane">
                <div class="panel-body">
                    <b class="media-heading h3 c-white text-capitalize"><span class="h3"><i class="fa fa-credit-card-alt text-warning"></i></span> Debt</b>
                    <p class="col-sm-offset-1">
                        Everyone's got skin in the game
                    </p>
                    <row>
                        <br />
                        @foreach (var accounttype in Model.AccountTypeList)
                        {
                            if (accounttype.Accounttype.Equals("credit") || accounttype.Accounttype.Equals("loan"))
                            {
                                <ul class="media-list bs-example">
                                    <li class="media">
                                        <div class="media-body">
                                            @foreach (var account in Model.Account_list)
                                            {
                                                if (account.Account_Type.Equals(accounttype.Accounttype))
                                                {
                                                    <ul class="media-list">
                                                        <li class="media">
                                                            <div class="media-heading">
                                                                <row>
                                                                    @if (@account.AccountName.Length > 20)
                                                                    {<p class="text-warning"> @account.AccountName.Substring(0, 20)...<text class="pull-right text-success">@String.Format("{0:C}", account.Balance)</text></p> }
                                                                    else
                                                                    {<p class="text-warning"> @account.AccountName<text class="pull-right text-success">@String.Format("{0:C}", account.Balance)</text></p> }
                                                                </row>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                }
                                            }
                                        </div>
                                    </li>
                                </ul>
                                <div class="col-sm-12">
                                    <text class="c-white pull-right" id="total_monthly">Total Debt: @accounttype.Accounttype_sum</text>
                                </div>
                            }
                        }
                    </row>
                    <row>
                        <div class="col-sm-12">
                            <br />
                            <a class="btn btn-accent btnPrevious pull-left"><i class="fa fa-chevron-left"></i></a>
                            <a class="btn btn-accent btnNext pull-right"><i class="fa fa-chevron-right"></i></a>
                        </div>
                    </row>
                </div>
            </div>
            <div id="tab-6" class="tab-pane">
                <div class="panel-body">
                    <b class="media-heading h3 c-white text-capitalize"><span class="h3"><i class="fa fa-home text-warning"></i></span> Housing</b>
                    <p class="col-sm-offset-1">
                        Whole Crew Loungin'
                    </p>
                    <row>
                        <br />
                        @foreach (var accounttype in Model.AccountTypeList)
                        {

                            if (accounttype.ToString().Equals("mortgage"))
                            {
                                <ul class="media-list">
                                    <li class="media">
                                        <div class="media-body">
                                            @foreach (var account in Model.Account_list)
                                            {
                                                if (account.Account_Type.Equals(accounttype.ToString()))
                                                {
                                                    <ul class="media-list">
                                                        <li class="media">
                                                            <div class="media-heading">
                                                                <row>
                                                                    @if (@account.AccountName.Length > 20)
                                                                    {<p class="text-warning"> @account.AccountName.ToString().Substring(0, 20)...<text class="pull-right text-success">$@account.Balance</text></p> }
                                                                    else
                                                                    {<p class="text-warning"> @account.AccountName.ToString()<text class="pull-right text-success">$@account.Balance</text></p> }
                                                                </row>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                }
                                            }
                                        </div>
                                    </li>
                                </ul>
                            }
                        }
                        <div class="col-sm-12">
                            <div class="col-sm-12"> <text class="c-white pull-right" id="total_monthly">Monthly Housing Expense: $0.00 </text></div>
                        </div>
                    </row>
                    <row>
                        <div class="col-sm-12">
                            <br />
                            <a class="btn btn-accent btnPrevious pull-left"><i class="fa fa-chevron-left"></i></a>
                            <a class="btn btn-accent btnNext pull-right"><i class="fa fa-chevron-right"></i></a>
                        </div>
                    </row>
                </div>
            </div>
            <div id="tab-7" class="tab-pane">
                <div class="panel-body">
                    <b class="media-heading h3 c-white text-capitalize"><span class="h3"><i class="fa fa-bolt text-warning"></i></span> Summary</b>
                    <p class="col-sm-offset-1">
                        Take a look and make sure everything looks cool (don't worry you can change this later if something changes)
                    </p>
                    <row>
                        <div class="col-sm-12">
                            <br />
                            <a class="btn btn-accent btnPrevious pull-left"><i class="fa fa-chevron-left"></i></a>
                            <a class="btn btn-info btnNext pull-right">Looks Good</a>
                        </div>
                    </row>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Income Tab Scripts-->
<script>
    //Income form function
    $(document).ready(function () {
        var wages;
        var other;
        var total_month;

        $('.btnNext').click(function () {
            $('.nav-tabs > .active').next('li').find('a').trigger('click');
        });

        $('.btnPrevious').click(function () {
            $('.nav-tabs > .active').prev('li').find('a').trigger('click');
        });

        var elem = document.querySelector('.js-switch');
        var elem = new Switchery(elem, { color: '#1bbf89', size: 'small' });

        var elem2 = document.querySelector('.js-switch2');
        var elem2 = new Switchery(elem2, { color: '#1bbf89', size: 'small' });

        $('.js-switch').change(function () {
            if ($(this).prop("checked")) {
                $('#employed').show();
            } else {
                $('#salary_pay').val('');
                $('#hourly_pay').val('');
                $('#hourly_time').val('');
                $('#monthly_hourly').text('$ 0.00 / month');
                $('#monthly_salary').text('$ 0.00 / month');
                wages = 0.0;
                total_month = parseInt(wages) + parseInt(other);
                $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
                $('#employed').hide();
            }
        });

        $('.js-switch2').change(function () {
            if ($(this).prop("checked")) {
                $('#other_inc').show();
            } else {
                $('#other_amount').val('');
                $('#other_monthly').text('$ 0.00 / month');
                other = 0.0;
                total_month = parseInt(wages) + parseInt(other);
                $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
                $('#other_inc').hide();
            }
        });

        $('#salary_radio').change(function (event) {
            if ($('#salary_radio').is(':checked')) {
                $('#salary').show();
                $('#hourly_pay').val('');
                $('#hourly_time').val('');
                $('#monthly_hourly').text('$ 0.00 / month');
                $('#total_monthly').text('$' + total_month + ' / month');
                wages = 0.0;
                total_month = parseInt(wages) + parseInt(other);
                $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
                $('#hourly').hide();
            }
        });

        $('#hourly_radio').change(function (event) {
            if ($('#hourly_radio').is(':checked')) {
                $('#hourly').show();
                $('#salary_pay').val('');
                $('#monthly_salary').text('$ 0.00 / month');
                $('#total_monthly').text('$' + total_month + ' / month')
                $('#second_job').show();
                wages = 0.0;
                total_month = parseInt(wages) + parseInt(other);
                $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
                $('#salary').hide();
            }
        });

        $('#salary_pay').keyup(function () {
            var total = isNaN(parseInt($(this).val() / 12)) ? 0.00 : ($(this).val() / 12).toFixed(2)
            $('#monthly_salary').text('$' + total + ' / month');

            wages = total;
            other = isNaN(other) ? 0.0 : other;
            total_month = parseInt(wages) + parseInt(other);
            $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
        });

        $('#hourly_pay').keyup(function () {
            var total = isNaN(parseInt((($(this).val() * $('#hourly_time').val()) * 52) / 12)) ? 0.00 : ((($(this).val() * $('#hourly_time').val()) * 52) / 12).toFixed(2);
            wages = total;
            other = isNaN(other) ? 0.0 : other;
            total_month = parseInt(wages) + parseInt(other);

            $('#monthly_hourly').text('$' + total + ' / month');

            $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
        });

        $('#hourly_time').keyup(function () {
            var total = isNaN(parseInt((($(this).val() * $('#hourly_pay').val()) * 52) / 12)) ? 0.00 : ((($(this).val() * $('#hourly_pay').val()) * 52) / 12).toFixed(2);

            wages = total;
            other = isNaN(other) ? 0.0 : other;
            total_month = parseInt(wages) + parseInt(other);

            $('#monthly_hourly').text('$' + total + ' / month');

            $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
        });

        $('#other_weekly').change(function (event) {
            if ($('#other_weekly').is(':checked')) {
                var total = isNaN(parseInt($('#other_amount').val())) ? 0.00 : (($('#other_amount').val() * 52) / 12).toFixed(2);
                other = total;
                wages = isNaN(wages) ? 0.0 : wages;
                total_month = parseInt(wages) + parseInt(other);

                $('#other_monthly').text('$' + total + ' / month');
                $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
            }
        });
        $('#other_m').change(function (event) {
            if ($('#other_m').is(':checked')) {
                var total = isNaN(parseInt($('#other_amount').val())) ? 0.00 : $('#other_amount').val();
                other = total;
                wages = isNaN(wages) ? 0.0 : wages;
                total_month = parseInt(wages) + parseInt(other);

                $('#other_monthly').text('$' + total + ' / month');
                $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
            }
        });
        $('#other_yearly').change(function (event) {
            if ($('#other_yearly').is(':checked')) {
                var total = isNaN(parseInt($('#other_amount').val())) ? 0.00 : ($('#other_amount').val() / 12).toFixed(2);

                other = total;
                wages = isNaN(wages) ? 0.0 : wages;
                total_month = parseInt(wages) + parseInt(other);

                $('#other_monthly').text('$' + total + ' / month');
                $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
            }
        });

        $('#other_amount').keyup(function () {
            if ($('#other_weekly').is(':checked')) {
                var total = isNaN(parseInt($('#other_amount').val())) ? 0.00 : (($('#other_amount').val() * 52) / 12).toFixed(2);

                other = total;
                wages = isNaN(wages) ? 0.0 : wages;
                total_month = parseInt(wages) + parseInt(other);

                $('#other_monthly').text('$' + total + ' / month');

                $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
            }

            else if ($('#other_m').is(':checked')) {
                var total = isNaN(parseInt($('#other_amount').val())) ? 0.00 : $('#other_amount').val();

                other = total;
                wages = isNaN(wages) ? 0.0 : wages;
                total_month = parseInt(wages) + parseInt(other);

                $('#other_monthly').text('$' + total + ' / month');
                $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
            }

            else if ($('#other_yearly').is(':checked')) {
                var total = isNaN(parseInt($('#other_amount').val())) ? 0.00 : ($('#other_amount').val() / 12).toFixed(2);

                other = total;
                wages = isNaN(wages) ? 0.0 : wages;
                total_month = parseInt(wages) + parseInt(other);

                $('#other_monthly').text('$' + total + ' / month');
                $('#total_monthly').text('Total Monthly Income: $' + total_month + ' / month')
            }

            else {
                $('#other_monthly').text('$ 0.00 / month');
                $('#total_monthly').text('Total Monthly Income: $ 0.00 / month')
            }
        });


    });
</script>
